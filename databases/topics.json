{
  "docs": [
    {"_id":"_design/get","views":{"1":{"map":"function (doc) {\n  if(doc.category == 1){\n    emit(doc.lastReply, doc);\n  }\n}"},"2":{"map":"function (doc) {\n  if(doc.category == 2){\n    emit(doc.lastReply, doc);\n  }\n}"},"3":{"map":"function (doc) {\n  if(doc.category == 3){\n    emit(doc.lastReply, doc);\n  }\n}"},"4":{"map":"function (doc) {\n  if(doc.category == 4){\n    emit(doc.lastReply, doc);\n  }\n}"},"5":{"map":"function (doc) {\n  if(doc.category == 5){\n    emit(doc.lastReply, doc);\n  }\n}"},"6":{"map":"function (doc) {\n  if(doc.category == 6){\n    emit(doc.lastReply, doc);\n  }\n}"},"7":{"map":"function (doc) {\n  if(doc.category == 7){\n    emit(doc.lastReply, doc);\n  }\n}"},"8":{"map":"function (doc) {\n  if(doc.category == 8){\n    emit(doc.lastReply, doc);\n  }\n}"},"9":{"map":"function (doc) {\n  if(doc.category == 9){\n    emit(doc.lastReply, doc);\n  }\n}"},"10":{"map":"function (doc) {\n  if(doc.category == 10){\n    emit(doc.lastReply, doc);\n  }\n}"},"11":{"map":"function (doc) {\n  if(doc.category == 11){\n    emit(doc.lastReply, doc);\n  }\n}"},"12":{"map":"function (doc) {\n  if(doc.category == 12){\n    emit(doc.lastReply, doc);\n  }\n}"},"13":{"map":"function (doc) {\n  if(doc.category == 13){\n    emit(doc.lastReply, doc);\n  }\n}"},"14":{"map":"function (doc) {\n  if(doc.category == 14){\n    emit(doc.lastReply, doc);\n  }\n}"},"15":{"map":"function (doc) {\n  if(doc.category == 15){\n    emit(doc.lastReply, doc);\n  }\n}"},"16":{"map":"function (doc) {\n  if(doc.category == 16){\n    emit(doc.lastReply, doc);\n  }\n}"},"17":{"map":"function (doc) {\n  if(doc.category == 17){\n    emit(doc.lastReply, doc);\n  }\n}"},"new":{"map":"function (doc) {\n  emit(doc.lastReply, doc);\n}"}}},
    {"_id":"_design/update","updates":{"addReply":"function (doc, req) { \n    if (!doc){\n    \treturn [null, 'Not found']\t\n    }else{\n    \tif(!doc.replies){\n    \t\tdoc.replies = [];\n    \t}\n    \tvar time = parseInt(Date.now()/1000);\n    \tdoc.lastReply = time;\n    \tdoc.replies.push({'user':req.query.user,'content':req.body,'createAt':time});\n    \treturn [doc, 'Success']\n    }\n}","addReplyX":"function (doc, req) { \n    if (!doc){\n    \treturn [null, 'Not found']\t\n    }else{\n    \tif(!doc.replies){\n    \t\tdoc.replies = [];\n    \t}\n    \tvar json = JSON.parse(req.body);\n    \tvar time = parseInt(Date.now()/1000);\n    \tdoc.lastReply = time;\n    \tdoc.replies.push({'user':json.user,'content':json.body,'createAt':time});\n    \treturn [doc, 'Success']\n    }\n}"}}
  ]
}